!function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.inputmask"],e):e(jQuery)}(function($){return $.extend($.inputmask.defaults.aliases,{numeric:{mask:function(e){function i(i){for(var r="",t=0;t<i.length;t++)r+=e.definitions[i[t]]?"\\"+i[t]:i[t];return r}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator==e.radixPoint&&(e.groupSeparator="."==e.radixPoint?",":","==e.radixPoint?".":"")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!=e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var r=Math.floor(e.integerDigits/e.groupSize),t=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0==t?r-1:r)}e.radixFocus=e.radixFocus&&"0"==e.placeholder,e.definitions[";"]=e.definitions["~"];var a=i(e.prefix);return a+="[+]",a+="~{1,"+e.integerDigits+"}",void 0!=e.digits&&(isNaN(e.digits)||parseInt(e.digits)>0)&&(a+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}"),a+=i(e.suffix),a+="[-]",e.greedy=!1,a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,postFormat:function(e,i,r,t){var a=!1;e.length>=t.suffix.length&&e.join("").indexOf(t.suffix)==e.length-t.suffix.length&&(e.length=e.length-t.suffix.length,a=!0),i=i>=e.length?e.length-1:i<t.prefix.length?t.prefix.length:i;var n=!1,o=e[i];if(""==t.groupSeparator||-1!=$.inArray(t.radixPoint,e)&&i>=$.inArray(t.radixPoint,e)||new RegExp("[-+]").test(o)){if(a)for(var l=0,p=t.suffix.length;p>l;l++)e[e.length+l]=t.suffix.charAt(l);return{pos:i}}var s=e.slice();o==t.groupSeparator&&(s.splice(i--,1),o=s[i]),r?s[i]="?":s.splice(i,0,"?");var u=s.join(""),f=u;if(u.length>0&&t.autoGroup||r&&-1!=u.indexOf(t.groupSeparator)){var g=$.inputmask.escapeRegex.call(this,t.groupSeparator);n=0==u.indexOf(t.groupSeparator),u=u.replace(new RegExp(g,"g"),"");var d=u.split(t.radixPoint);if(u=""==t.radixPoint?u:d[0],u!=t.prefix+"?0"&&u.length>=t.groupSize+t.prefix.length)for(var c=new RegExp("([-+]?[\\d?]+)([\\d?]{"+t.groupSize+"})");c.test(u);)u=u.replace(c,"$1"+t.groupSeparator+"$2"),u=u.replace(t.groupSeparator+t.groupSeparator,t.groupSeparator);""!=t.radixPoint&&d.length>1&&(u+=t.radixPoint+d[1])}n=f!=u,e.length=u.length;for(var l=0,p=u.length;p>l;l++)e[l]=u.charAt(l);var x=$.inArray("?",e);if(r?e[x]=o:e.splice(x,1),!n&&a)for(var l=0,p=t.suffix.length;p>l;l++)e[e.length+l]=t.suffix.charAt(l);return{pos:x,refreshFromBuffer:n,buffer:e}},onBeforeWrite:function(e,i,r,t){if(e&&"blur"==e.type){var a=i.join(""),n=a.replace(t.prefix,"");if(n=n.replace(t.suffix,""),n=n.replace(new RegExp($.inputmask.escapeRegex.call(this,t.groupSeparator),"g"),""),n=n.replace($.inputmask.escapeRegex.call(this,t.radixPoint),"."),isFinite(n)&&isFinite(t.min)&&parseFloat(n)<parseFloat(t.min))return t.postFormat((t.prefix+t.min).split(""),0,!0,t);var o=""!=t.radixPoint?i.join("").split(t.radixPoint):[i.join("")],l=o[0].match(t.regex.integerPart(t)),p=2==o.length?o[1].match(t.regex.integerNPart(t)):void 0;l&&"-0"==l[0]&&(void 0==p||p[0].match(/^0+$/))&&i.splice(l.index,1);var s=$.inArray(t.radixPoint,i);if(-1!=s&&isFinite(t.digits)&&!t.digitsOptional){for(var u=1;u<=t.digits;u++)(void 0==i[s+u]||i[s+u]==t.placeholder.charAt(0))&&(i[s+u]="0");return{refreshFromBuffer:!0,buffer:i}}}if(t.autoGroup){var f=t.postFormat(i,r-1,!0,t);return f.caret=r<=t.prefix.length?f.pos:f.pos+1,f}},regex:{integerPart:function(e){return new RegExp("["+e.negationSymbol.front+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+$.inputmask.escapeRegex.call(this,e.groupSeparator)+"]+")}},signHandler:function(e,i,r,t,a){if(!t&&a.allowMinus&&"-"===e||a.allowPlus&&"+"===e){var n=i.buffer.join("").match(a.regex.integerPart(a));if(n&&n[0].length>0)return i.buffer[n.index]==("-"===e?"+":a.negationSymbol.front)?{pos:n.index,c:"-"===e?a.negationSymbol.front:"+",remove:n.index,caret:r}:i.buffer[n.index]==("-"===e?a.negationSymbol.front:"+")?{remove:n.index,caret:r-1}:{pos:n.index,c:"-"===e?a.negationSymbol.front:"+",caret:r+1}}return!1},radixHandler:function(e,i,r,t,a){if(!t&&e===a.radixPoint&&a.digits>0){var n=$.inArray(a.radixPoint,i.buffer),o=i.buffer.join("").match(a.regex.integerPart(a));if(-1!=n&&i.validPositions[n])return i.validPositions[n-1]?{caret:n+1}:{pos:o.index,c:o[0],caret:n+1};if(!o||"0"==o[0]&&o.index+1!=r)return i.buffer[o?o.index:r]="0",{pos:(o?o.index:r)+1}}return!1},leadingZeroHandler:function(e,i,r,t,a){var n=i.buffer.join("").match(a.regex.integerNPart(a)),o=$.inArray(a.radixPoint,i.buffer);if(n&&!t&&(-1==o||o>=r))if(0==n[0].indexOf("0")){r<a.prefix.length&&(r=n.index);var l=$.inArray(a.radixPoint,i._buffer),p=i._buffer&&i.buffer.slice(o).join("")==i._buffer.slice(l).join("")||0==parseInt(i.buffer.slice(o+1).join("")),s=i._buffer&&i.buffer.slice(n.index,o).join("")==i._buffer.slice(a.prefix.length,l).join("")||"0"==i.buffer.slice(n.index,o).join("");if(-1==o||p&&s)return i.buffer.splice(n.index,1),r=r>n.index?r-1:n.index,{pos:r,remove:n.index};if(n.index+1==r||"0"==e)return i.buffer.splice(n.index,1),r=n.index,{pos:r,remove:n.index}}else if("0"===e&&r<=n.index)return!1;return!0},postValidation:function(e,i){var r=!0,t=e.join(""),a=t.replace(i.prefix,"");return a=a.replace(i.suffix,""),a=a.replace(new RegExp($.inputmask.escapeRegex.call(this,i.groupSeparator),"g"),""),a=a.replace($.inputmask.escapeRegex.call(this,i.radixPoint),"."),isFinite(a)&&isFinite(i.max)&&(r=parseFloat(a)<=parseFloat(i.max)),r},definitions:{"~":{validator:function(e,i,r,t,a){var n=a.signHandler(e,i,r,t,a);if(!n&&(n=a.radixHandler(e,i,r,t,a),!n&&(n=t?new RegExp("[0-9"+$.inputmask.escapeRegex.call(this,a.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e),n===!0&&(n=a.leadingZeroHandler(e,i,r,t,a),n===!0)))){var o=$.inArray(a.radixPoint,i.buffer);n=a.digitsOptional===!1&&r>o&&!t?{pos:r,remove:r}:{pos:r}}return n},cardinality:1,prevalidator:null},"+":{validator:function(e,i,r,t,a){var n=a.signHandler(e,i,r,t,a);return!n&&(t&&a.allowMinus&&e===a.negationSymbol.front||a.allowMinus&&"-"==e||a.allowPlus&&"+"==e)&&(n=!0),n},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(e,i,r,t,a){var n=a.signHandler(e,i,r,t,a);return!n&&t&&a.allowMinus&&e===a.negationSymbol.back&&(n=!0),n},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(e,i,r,t,a){var n=a.signHandler(e,i,r,t,a);if(!n){var o="["+$.inputmask.escapeRegex.call(this,a.radixPoint)+"]";n=new RegExp(o).test(e),n&&i.validPositions[r]&&i.validPositions[r].match.placeholder==a.radixPoint&&(n={caret:r+1})}return n},cardinality:1,prevalidator:null,placeholder:function(e){return e.radixPoint}}},insertMode:!0,autoUnmask:!1,onUnMask:function(e,i,r){var t=e.replace(r.prefix,"");return t=t.replace(r.suffix,""),t=t.replace(new RegExp($.inputmask.escapeRegex.call(this,r.groupSeparator),"g"),"")},isComplete:function(e,i){var r=e.join(""),t=e.slice();if(i.postFormat(t,0,!0,i),t.join("")!=r)return!1;var a=r.replace(i.prefix,"");return a=a.replace(i.suffix,""),a=a.replace(new RegExp($.inputmask.escapeRegex.call(this,i.groupSeparator),"g"),""),","===i.radixPoint&&(a=a.replace($.inputmask.escapeRegex.call(this,i.radixPoint),".")),isFinite(a)},onBeforeMask:function(e,i){if(""!=i.radixPoint&&isFinite(e))e=e.toString().replace(".",i.radixPoint);else{var r=e.match(/,/g),t=e.match(/\./g);t&&r?t.length>r.length?(e=e.replace(/\./g,""),e=e.replace(",",i.radixPoint)):r.length>t.length?(e=e.replace(/,/g,""),e=e.replace(".",i.radixPoint)):e=e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e=e.replace(/,/g,""):e=e.replace(new RegExp($.inputmask.escapeRegex.call(this,i.groupSeparator),"g"),"")}return 0==i.digits&&(-1!=e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!=e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),e},canClearPosition:function(e,i,r,t,a){var n=e.validPositions[i].input,o=n!=a.radixPoint&&isFinite(n)||i==r||n==a.groupSeparator||n==a.negationSymbol.front||n==a.negationSymbol.back;if(o&&isFinite(n)){var l=e.buffer.join("").substr(0,i).match(a.regex.integerNPart(a));if(!t){var p=i+1,s=null==l||0==parseInt(l[0].replace(new RegExp($.inputmask.escapeRegex.call(this,a.groupSeparator),"g"),""));if(s)for(;e.validPositions[p]&&(e.validPositions[p].input==a.groupSeparator||"0"==e.validPositions[p].input);)delete e.validPositions[p],p++}var u=[];for(var f in e.validPositions)u.push(e.validPositions[f].input);l=u.join("").match(a.regex.integerNPart(a));var g=$.inArray(a.radixPoint,e.buffer);if(l&&(-1==g||g>=i))if(0==l[0].indexOf("0"))o=l.index!=i||-1==g;else{var d=parseInt(l[0].replace(new RegExp($.inputmask.escapeRegex.call(this,a.groupSeparator),"g"),""));-1!=g&&10>d&&"0"==a.placeholder.charAt(0)&&(e.validPositions[i].input="0",e.p=a.prefix.length+1,o=!1)}}return o}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),$.fn.inputmask});