!function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.inputmask"],e):e(jQuery)}(function(e){return e.extend(e.inputmask.defaults.aliases,{numeric:{mask:function(e){function i(i){for(var r="",t=0;t<i.length;t++)r+=e.definitions[i[t]]?"\\"+i[t]:i[t];return r}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator==e.radixPoint&&(e.groupSeparator="."==e.radixPoint?",":","==e.radixPoint?".":"")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!=e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var r=Math.floor(e.integerDigits/e.groupSize),t=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0==t?r-1:r)}e.radixFocus=e.radixFocus&&"0"==e.placeholder,e.definitions[";"]=e.definitions["~"];var a=i(e.prefix);return a+="[+]",a+="~{1,"+e.integerDigits+"}",void 0!=e.digits&&(isNaN(e.digits)||parseInt(e.digits)>0)&&(a+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}"),a+=i(e.suffix),a+="[-]",e.greedy=!1,a},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,groupSeparator:"",radixPoint:".",radixFocus:!0,groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:void 0,max:void 0,postFormat:function(i,r,t,a){var n=!1;i.length>=a.suffix.length&&i.join("").indexOf(a.suffix)==i.length-a.suffix.length&&(i.length=i.length-a.suffix.length,n=!0),r=r>=i.length?i.length-1:r<a.prefix.length?a.prefix.length:r;var o=!1,l=i[r];if(""==a.groupSeparator||-1!=e.inArray(a.radixPoint,i)&&r>=e.inArray(a.radixPoint,i)||new RegExp("[-+]").test(l)){if(n)for(var p=0,s=a.suffix.length;s>p;p++)i[i.length+p]=a.suffix.charAt(p);return{pos:r}}var u=i.slice();l==a.groupSeparator&&(u.splice(r--,1),l=u[r]),t?u[r]="?":u.splice(r,0,"?");var f=u.join(""),g=f;if(f.length>0&&a.autoGroup||t&&-1!=f.indexOf(a.groupSeparator)){var d=e.inputmask.escapeRegex.call(this,a.groupSeparator);o=0==f.indexOf(a.groupSeparator),f=f.replace(new RegExp(d,"g"),"");var c=f.split(a.radixPoint);if(f=""==a.radixPoint?f:c[0],f!=a.prefix+"?0"&&f.length>=a.groupSize+a.prefix.length)for(var x=new RegExp("([-+]?[\\d?]+)([\\d?]{"+a.groupSize+"})");x.test(f);)f=f.replace(x,"$1"+a.groupSeparator+"$2"),f=f.replace(a.groupSeparator+a.groupSeparator,a.groupSeparator);""!=a.radixPoint&&c.length>1&&(f+=a.radixPoint+c[1])}o=g!=f,i.length=f.length;for(var p=0,s=f.length;s>p;p++)i[p]=f.charAt(p);var h=e.inArray("?",i);if(t?i[h]=l:i.splice(h,1),!o&&n)for(var p=0,s=a.suffix.length;s>p;p++)i[i.length+p]=a.suffix.charAt(p);return{pos:h,refreshFromBuffer:o,buffer:i}},onBeforeWrite:function(i,r,t,a){if(i&&"blur"==i.type){var n=r.join(""),o=n.replace(a.prefix,"");if(o=o.replace(a.suffix,""),o=o.replace(new RegExp(e.inputmask.escapeRegex.call(this,a.groupSeparator),"g"),""),o=o.replace(e.inputmask.escapeRegex.call(this,a.radixPoint),"."),isFinite(o)&&isFinite(a.min)&&parseFloat(o)<parseFloat(a.min))return a.postFormat((a.prefix+a.min).split(""),0,!0,a);var l=""!=a.radixPoint?r.join("").split(a.radixPoint):[r.join("")],p=l[0].match(a.regex.integerPart(a)),s=2==l.length?l[1].match(a.regex.integerNPart(a)):void 0;p&&"-0"==p[0]&&(void 0==s||s[0].match(/^0+$/))&&r.splice(p.index,1);var u=e.inArray(a.radixPoint,r);if(-1!=u&&isFinite(a.digits)&&!a.digitsOptional){for(var f=1;f<=a.digits;f++)(void 0==r[u+f]||r[u+f]==a.placeholder.charAt(0))&&(r[u+f]="0");return{refreshFromBuffer:!0,buffer:r}}}if(a.autoGroup){var g=a.postFormat(r,t-1,!0,a);return g.caret=t<=a.prefix.length?g.pos:g.pos+1,g}},regex:{integerPart:function(e){return new RegExp("["+e.negationSymbol.front+"+]?\\d+")},integerNPart:function(i){return new RegExp("[\\d"+e.inputmask.escapeRegex.call(this,i.groupSeparator)+"]+")}},signHandler:function(e,i,r,t,a){if(!t&&a.allowMinus&&"-"===e||a.allowPlus&&"+"===e){var n=i.buffer.join("").match(a.regex.integerPart(a));if(n&&n[0].length>0)return i.buffer[n.index]==("-"===e?"+":a.negationSymbol.front)?{pos:n.index,c:"-"===e?a.negationSymbol.front:"+",remove:n.index,caret:r}:i.buffer[n.index]==("-"===e?a.negationSymbol.front:"+")?{remove:n.index,caret:r-1}:{pos:n.index,c:"-"===e?a.negationSymbol.front:"+",caret:r+1}}return!1},radixHandler:function(i,r,t,a,n){if(!a&&i===n.radixPoint&&n.digits>0){var o=e.inArray(n.radixPoint,r.buffer),l=r.buffer.join("").match(n.regex.integerPart(n));if(-1!=o&&r.validPositions[o])return r.validPositions[o-1]?{caret:o+1}:{pos:l.index,c:l[0],caret:o+1};if(!l||"0"==l[0]&&l.index+1!=t)return r.buffer[l?l.index:t]="0",{pos:(l?l.index:t)+1}}return!1},leadingZeroHandler:function(i,r,t,a,n){var o=r.buffer.join("").match(n.regex.integerNPart(n)),l=e.inArray(n.radixPoint,r.buffer);if(o&&!a&&(-1==l||l>=t))if(0==o[0].indexOf("0")){t<n.prefix.length&&(t=o.index);var p=e.inArray(n.radixPoint,r._buffer),s=r._buffer&&r.buffer.slice(l).join("")==r._buffer.slice(p).join("")||0==parseInt(r.buffer.slice(l+1).join("")),u=r._buffer&&r.buffer.slice(o.index,l).join("")==r._buffer.slice(n.prefix.length,p).join("")||"0"==r.buffer.slice(o.index,l).join("");if(-1==l||s&&u)return r.buffer.splice(o.index,1),t=t>o.index?t-1:o.index,{pos:t,remove:o.index};if(o.index+1==t||"0"==i)return r.buffer.splice(o.index,1),t=o.index,{pos:t,remove:o.index}}else if("0"===i&&t<=o.index)return!1;return!0},postValidation:function(i,r){var t=!0,a=i.join(""),n=a.replace(r.prefix,"");return n=n.replace(r.suffix,""),n=n.replace(new RegExp(e.inputmask.escapeRegex.call(this,r.groupSeparator),"g"),""),n=n.replace(e.inputmask.escapeRegex.call(this,r.radixPoint),"."),isFinite(n)&&isFinite(r.max)&&(t=parseFloat(n)<=parseFloat(r.max)),t},definitions:{"~":{validator:function(i,r,t,a,n){var o=n.signHandler(i,r,t,a,n);if(!o&&(o=n.radixHandler(i,r,t,a,n),!o&&(o=a?new RegExp("[0-9"+e.inputmask.escapeRegex.call(this,n.groupSeparator)+"]").test(i):new RegExp("[0-9]").test(i),o===!0&&(o=n.leadingZeroHandler(i,r,t,a,n),o===!0)))){var l=e.inArray(n.radixPoint,r.buffer);o=n.digitsOptional===!1&&t>l&&!a?{pos:t,remove:t}:{pos:t}}return o},cardinality:1,prevalidator:null},"+":{validator:function(e,i,r,t,a){var n=a.signHandler(e,i,r,t,a);return!n&&(t&&a.allowMinus&&e===a.negationSymbol.front||a.allowMinus&&"-"==e||a.allowPlus&&"+"==e)&&(n=!0),n},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(e,i,r,t,a){var n=a.signHandler(e,i,r,t,a);return!n&&t&&a.allowMinus&&e===a.negationSymbol.back&&(n=!0),n},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(i,r,t,a,n){var o=n.signHandler(i,r,t,a,n);if(!o){var l="["+e.inputmask.escapeRegex.call(this,n.radixPoint)+"]";o=new RegExp(l).test(i),o&&r.validPositions[t]&&r.validPositions[t].match.placeholder==n.radixPoint&&(o={caret:t+1})}return o},cardinality:1,prevalidator:null,placeholder:function(e){return e.radixPoint}}},insertMode:!0,autoUnmask:!1,onUnMask:function(i,r,t){var a=i.replace(t.prefix,"");return a=a.replace(t.suffix,""),a=a.replace(new RegExp(e.inputmask.escapeRegex.call(this,t.groupSeparator),"g"),"")},isComplete:function(i,r){var t=i.join(""),a=i.slice();if(r.postFormat(a,0,!0,r),a.join("")!=t)return!1;var n=t.replace(r.prefix,"");return n=n.replace(r.suffix,""),n=n.replace(new RegExp(e.inputmask.escapeRegex.call(this,r.groupSeparator),"g"),""),","===r.radixPoint&&(n=n.replace(e.inputmask.escapeRegex.call(this,r.radixPoint),".")),isFinite(n)},onBeforeMask:function(i,r){if(""!=r.radixPoint&&isFinite(i))i=i.toString().replace(".",r.radixPoint);else{var t=i.match(/,/g),a=i.match(/\./g);a&&t?a.length>t.length?(i=i.replace(/\./g,""),i=i.replace(",",r.radixPoint)):t.length>a.length?(i=i.replace(/,/g,""),i=i.replace(".",r.radixPoint)):i=i.indexOf(".")<i.indexOf(",")?i.replace(/\./g,""):i=i.replace(/,/g,""):i=i.replace(new RegExp(e.inputmask.escapeRegex.call(this,r.groupSeparator),"g"),"")}return 0==r.digits&&(-1!=i.indexOf(".")?i=i.substring(0,i.indexOf(".")):-1!=i.indexOf(",")&&(i=i.substring(0,i.indexOf(",")))),i},canClearPosition:function(i,r,t,a,n){var o=i.validPositions[r].input,l=o!=n.radixPoint&&isFinite(o)||r==t||o==n.groupSeparator||o==n.negationSymbol.front||o==n.negationSymbol.back;if(l&&isFinite(o)){var p=i.buffer.join("").substr(0,r).match(n.regex.integerNPart(n));if(!a){var s=r+1,u=null==p||0==parseInt(p[0].replace(new RegExp(e.inputmask.escapeRegex.call(this,n.groupSeparator),"g"),""));if(u)for(;i.validPositions[s]&&(i.validPositions[s].input==n.groupSeparator||"0"==i.validPositions[s].input);)delete i.validPositions[s],s++}var f=[];for(var g in i.validPositions)f.push(i.validPositions[g].input);p=f.join("").match(n.regex.integerNPart(n));var d=e.inArray(n.radixPoint,i.buffer);if(p&&(-1==d||d>=r))if(0==p[0].indexOf("0"))l=p.index!=r||-1==d;else{var c=parseInt(p[0].replace(new RegExp(e.inputmask.escapeRegex.call(this,n.groupSeparator),"g"),""));-1!=d&&10>c&&"0"==n.placeholder.charAt(0)&&(i.validPositions[r].input="0",i.p=n.prefix.length+1,l=!1)}}return l}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:"0",radixPoint:""}}),e.fn.inputmask});